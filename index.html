<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>

    <title>TheDeveloper/gosquared-admin-api-php-sdk @ GitHub</title>

    <style type="text/css">
      body {
        margin-top: 1.0em;
        font-family: Helvetica, Arial, FreeSans, san-serif;
      }
      #container {
        margin: 0 auto;
        width: 700px;
      }
      h1 { font-size: 3.8em;  margin-bottom: 3px; }
      h1 .small { font-size: 0.4em; }
      h1 a { text-decoration: none; }
      h2 { font-size: 1.5em; }
      h3 { text-align: center;  }
      a { color: #551A8B; text-decoration: none; }
      .description { font-size: 1.2em; margin-bottom: 30px; margin-top: 30px; font-style: italic;}
      #download { float: right; }
      pre { background: #000; color: #fff; padding: 15px; overflow: auto; }
      hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
      .footer { text-align:center; padding-top:30px; font-style: italic; }
      #sidebar{
        position: fixed;
        top: 0;
        left: 0;
        margin: 15px;
      }
      #sidebar ul{
        list-style-type: none;
        text-align: left;
        margin: 0;
        padding: 0 0 0 15px;
      }

    </style>
  </head>

  <body>
    <a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
    <div id ="wrapper">
      <div id="sidebar">
        <ul class="sidebar_list">
          <li><h4><a href="#download">Download</a></h4></li>
          <li><h4><a href="#guide">Guide</a></h4></li>
          <li>
          <ul>
            <li><a href="#configuration">Configuration</a></li>
            <li><a href="#accounts">Accounts</a></li>
            <li><a href="#sites">Sites</a></li>
          </ul>
          </li>
        </ul>
      </div>
      <div id="container">
        <div id="download">
          <a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk/zipball/master">
            <img border="0" width="90" src="http://github.com/images/modules/download/zip.png" /></a>
          <a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk/tarball/master">
            <img border="0" width="90" src="http://github.com/images/modules/download/tar.png" /></a>
        </div>

        <h1><a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk">GoSquared Admin API SDK</a><br />
        </h1>

        <div class="description">
          The official PHP SDK for the GoSquared admin API
        </div>

        <h2>Download</h2>
        <p>
        You can download this project in either
        <a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk/zipball/master">zip</a> or
        <a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk/tarball/master">tar</a> formats.
        </p>
        <p>
        You can also clone the project with <a href="http://git-scm.com">Git</a>
        by running:
          <pre>$ git clone git://github.com/TheDeveloper/gosquared-admin-api-php-sdk</pre>
        </p>
        <p>
        Add it as a submodule to your project under by running:
          <pre>$ git submodule add git://github.com/TheDeveloper/gosquared-admin-api-php-sdk</pre>
        </p>

        <h2 id="guide">Guide</h2>
        <p>
        <b>Note: If you don't want to use the PHP SDK, you can still follow the URL URL examples.</b>
        </p>
        <p>
        The SDK code examples are accompanied by the equivalent GET and POST URLs they generate.
        </p>

        <h3 id="configuration">Configuration</h3>
        <p>
        You need to move config.sample.inc.php to config.inc.php, and drop in your API key. The sample config file looks like this:
        <pre>
define("GS_ADMIN_SDK_API_KEY", "");                           // Your API Key here. Contact us at support@gosquared.com if you'd like access
define("GS_ADMIN_SDK_API_ENV", "sandbox");                    // Set to sandbox when testing
define("GS_ADMIN_SDK_API_VERSION", '1.0');                    // Set to the API version you require
/*
 * This next option allows you to control debugging functionality. This enables verbose logging, and all URLs send to the
 * GoSquared api will be logged to STDOUT. Please ensure this is set to false when in production.
 */
define("GS_ADMIN_SDK_DEBUG", false);

// You shouldn't change these
define('GS_ADMIN_SDK_API_URL_SCHEME', 'https');
define('GS_ADMIN_SDK_API_HOST', 'www.gosquared.com');
define('GS_ADMIN_SDK_API_ENDPOINT', '/api/admin_api.php');
          </pre>
          We recommend running the tests only when the environment is set to "sandbox". When you're ready to go live, set this directive to "production"
        </p>
        
        <h3 id="#testing">Testing</h3>
        <p>
          The test suite is backed by PHPUnit. <a href="https://github.com/sebastianbergmann/phpunit/">Here are are instructions on installing PHPUnit</a>.<br />
          To run the tests:
          <pre>phpunit test/testSuite.php</pre>
          The tests will fail if you have not set the configuration properly. Read about <a href="#configuration">configuration</a>.<br />
          We recommend you run the test suite to ensure that all actions are operational.
        </p>

        <h2 id="accounts">Accounts</h2>
        <p>
          You create accounts for each user you want to sign up to GoSquared.
        </p>
        
        <h3 id="#func_create_account">create_account</h2>
        <p>
          Create a user account.
          <pre>
$email = 'jemima@puddledu.ck';
$password = 'testpassword';
$first_name = 'Jemima';
$last_name = 'Puddleduck';
$admin_sdk = new GS_ADMIN_SDK();
$res = $admin_sdk->create_account($email, $password, $first_name, $last_name);
          </pre>
          URL:
          <pre>https://master.local/api/admin_api.php
  ?format=json
  &api_key_hash=xxxxxxxxxxxxxxxxxxxxxxx
  &env=sandbox
  &mode=create_account
  &sign=bafd3b1f187adc06ekf1024e6bae19756358ca34
  &version=1.0</pre>
          POST:
          <pre>
email=jemima@puddledu.ck
&password=testpassword
&first_name=Jemima
&last_name=Puddleduck
&timecode=2011-10-19T14%3A07%3A21Z</pre>
        </p>
        
        <h3 id="#func_modify_account">modify_account</h2>
        <p>
          Modify a user account. Leave any arguments you don't wish to modify as null.
          <pre>
$user_id = 485964685;
$email = 'john@puddledu.ck';
$password = 'anothertestpassword';
$first_name = 'John';
$last_name = null;
$admin_sdk = new GS_ADMIN_SDK();
$res = $admin_sdk->modify_account($user_id, $email, $password, $first_name, $last_name);
          </pre>
          URL:
          <pre>https://master.local/api/admin_api.php
  ?format=json
  &api_key_hash=xxxxxxxxxxxxxxxxxxxxxxx
  &env=sandbox
  &mode=modify_account
  &sign=bafd3b1f187adc06ekf1024e6bae19756358ca34
  &version=1.0</pre>
          POST:
          <pre>
user_id=485964685
&email=john@puddledu.ck
&password=anothertestpassword
&first_name=John
&timecode=2011-10-19T14%3A07%3A21Z</pre>
        </p>
        
        <h3 id="#func_purge_account">purge_account</h2>
        <p>
          Purge an account. <b>Warning: This deletes everything for the account!</b>
          <pre>
$user_id = 485964685;
$admin_sdk = new GS_ADMIN_SDK();
$res = $admin_sdk->purge_account($user_id);
          </pre>
          URL:
          <pre>https://master.local/api/admin_api.php
  ?format=json
  &api_key_hash=xxxxxxxxxxxxxxxxxxxxxxx
  &env=sandbox
  &mode=purge_account
  &sign=bafd3b1f187adc06ekf1024e6bae19756358ca34
  &version=1.0</pre>
          POST:
          <pre>
user_id=485964685
&timecode=2011-10-19T11%3A48%3A56Z</pre>
        </p>
        
        <h3 id="#func_set_account_plan">set_account_plan</h2>
        <p>
          Put an account onto one of the available GoSquared plans. <a href="https://www.gosquared.com/plans/" target="_blank">See available plans</a>.
          <pre>
$user_id = 485964685
$plan_name = 'standard';
$admin_sdk = new GS_ADMIN_SDK();
$res = $admin_sdk->set_account_plan($user_id, $plan_name);
          </pre>
          URL:
          <pre>https://master.local/api/admin_api.php
  ?format=json
  &api_key_hash=xxxxxxxxxxxxxxxxxxxxxxx
  &env=sandbox
  &mode=set_account_plan
  &sign=bafd3b1f187adc06ekf1024e6bae19756358ca34
  &version=1.0</pre>
          POST:
          <pre>
user_id=485964685
&plan_name=standard
&timecode=2011-10-19T11%3A48%3A56Z</pre>
        </p>
        
        <h2 id="sites">Sites</h2>
        <p>
          A user account has sites tracked by GoSquared. Typically, there will be one site per domain.
        </p>
        
        <h3 id="#func_create_site">create_site</h2>
        <p>
          Create a site on a user account.
          <pre>
$user_id = 485964685;
$site_name = 'Test Site';
$site_url = 'http://www.puddledu.ck';
$admin_sdk = new GS_ADMIN_SDK();
$res = $admin_sdk->create_site($user_id, $site_name, $site_url);
          </pre>
          URL:
          <pre>https://master.local/api/admin_api.php
  ?format=json
  &api_key_hash=xxxxxxxxxxxxxxxxxxxxxxx
  &env=sandbox
  &mode=create_site
  &sign=bafd3b1f187adc06ekf1024e6bae19756358ca34
  &version=1.0</pre>
          POST:
          <pre>
user_id=485964685
&site_name=Test+Site
&site_url=http%3A%2F%2Fwww.gosquared.com%2F
&timecode=2011-10-19T11%3A48%3A30Z</pre>
        </p>
        
        <h3 id="#func_cancel_subscription">cancel_subscription</h2>
        <p>
          Cancel a subscription.
          <pre>
$admin_sdk = new GS_ADMIN_SDK();
$res = $admin_sdk->cancel_subscription($user_id);
          </pre>
          URL:
          <pre>https://master.local/api/admin_api.php
  ?format=json
  &api_key_hash=xxxxxxxxxxxxxxxxxxxxxxx
  &env=sandbox
  &mode=cancel_subscription
  &sign=bafd3b1f187adc06ekf1024e6bae19756358ca34
  &version=1.0</pre>
          POST:
          <pre>
user_id=485964685
&timecode=2011-10-19T11%3A48%3A56Z</pre>
        </p>
        
        <div class="footer">
          get the source code on GitHub : <a href="http://github.com/TheDeveloper/gosquared-admin-api-php-sdk">TheDeveloper/gosquared-admin-api-php-sdk</a>
        </div>

      </div>

    </div>
  </body>
</html>
